config:
  services:
    - Overview:
        - Proxmox:
            icon: proxmox.png
            widget:
              type: proxmox
              url: https://pve01.home:8006
              username: homepage@pve!homepage
              password: 7330a6b3-faeb-4867-8807-5c815c360a24 # very low permissions, only for monitoring

    - MachineDetailsInternal1:
        - Intel PC (i3-8100):
            icon: proxmox.png
            href: https://pve01.home:8006/
            description: i3-8100 24GB RAM
            widget:
              type: proxmox
              url: https://pve01.home:8006
              username: homepage@pve!homepage
              password: 7330a6b3-faeb-4867-8807-5c815c360a24 # very low permissions, only for monitoring
              node: pve01
        - Info:
            widget:
              type: glances
              version: 4
              url: http://pve01.home:61208
              metric: info
        - Network Usage:
            widget:
              type: glances
              version: 4
              url: http://pve01.home:61208
              metric: network:enp0s31f6
        - CPU Temperature:
            widget:
              type: glances
              version: 4
              url: http://pve01.home:61208
              metric: sensor:Package id 0

    - MachineDetailsInternal2:
        - HPE ML110-G10:
            icon: proxmox.png
            href: https://pve02.home:8006/
            description: Xeon Silver 4108 64GB RAM
            widget:
              type: proxmox
              url: https://pve02.home:8006
              username: homepage@pve!homepage
              password: 7330a6b3-faeb-4867-8807-5c815c360a24 # very low permissions, only for monitoring
              node: pve02
        - Info:
            widget:
              type: glances
              version: 4
              url: http://pve02.home:61208
              metric: info
        - Network Usage:
            widget:
              type: glances
              version: 4
              url: http://pve02.home:61208
              metric: network:eno1
        - CPU Temperature:
            widget:
              type: glances
              version: 4
              url: http://pve02.home:61208
              metric: sensor:Package id 0

    - Utils:
        - InfluxDB:
            href: http://influxdb.bqc0n.home
            icon: influxdb.png
        - Grafana:
            href: http://dash.bqc0n.home
            icon: grafana.png
            widget:
              type: grafana
              url: http://192.168.1.3:3001
              username: admin
              password: admin
  settings:
    title: bqc0n Dashboard
    background:
      image: https://raw.githubusercontent.com/fexli/ArknightsResource/main/avgs/49_i22.png
      blur: sm
      opacity: 50

    layout:
      Overview:
        style: row
      MachineDetailsInternal1:
        header: false
        style: row
        columns: 4
      MachineDetailsInternal2:
        header: false
        style: row
        columns: 4
      Utils:
        style: row
        columns: 2

# The service account is necessary to allow discovery of other services
serviceAccount:
  create: true
  name: homepage

service:
  main:
    ports:
      http:
        port: 3000
  selector:
    name: homepage
  type: ClusterIP

# This enables the service account to access the necessary resources
enableRbac: true

ingress:
  main:
    enabled: true
    labels:
      gethomepage.dev/enabled: "true"
    annotations:
      # Example annotations to add Homepage to your Homepage!
      gethomepage.dev/name: "Homepage"
      gethomepage.dev/description: "Dynamically Detected Homepage"
      gethomepage.dev/group: "Dynamic"
      gethomepage.dev/icon: "homepage.png"
    ingressClassName: "nginx"
    rules:
      - http:
          paths:
            - path: /test
              pathType: Prefix
              backend:
                service:
                  name: homepage
                  port:
                    number: 3000